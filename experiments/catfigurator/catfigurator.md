---
layout: page
title: Catfigurator
mainnav: false
permalink: /experiments/catfigurator/
---
*** This is not finished so don't get too excited. ***

* Elements head, body, tail, leg, eyes, etc should be uniquely defined and transformed into place to make their placement easier.

<svg id="cat" width="400" height="400" viewBox="0 0 400 400">

<!-- <rect width="400" height="400" rx="40" ry="40" fill="lightblue" />
<circle cx="200" cy="200" r="200" fill="red" /> -->
<g transform="translate(110, 100)">
<svg
   width="66.561981mm"
   height="55.675892mm"
   viewBox="0 0 66.561981 55.675892"
   version="1.1"
   id="svg1"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs1" />
  <g
     id="layer3"
     style="display:inline"
     transform="translate(-73.690209,-69.672709)">
    <path
       id="body-head"
       fill="#000000"
       style="stroke:#ffffff;stroke-width:0.344877;stroke-miterlimit:3.5;stroke-dasharray:none"
       d="M 85.355485,69.671165 C 80.087863,82.584522 75.339413,86.196403 70.88158,99.765957 c -0.363664,1.106983 1.879079,-1.25538 1.515982,-0.147909 -0.514507,1.569282 -3.634752,6.608482 -4.149886,8.177312 l 7.549746,4.28414 -1.087025,0.64174 3.912931,2.98243 c 2.416779,1.84207 1.190705,2.85362 -0.404698,5.1946 -0.564139,0.82778 -0.980242,1.85405 -1.275682,2.96713 -0.127745,0.48129 1.947525,-1.03658 1.628422,-0.31399 -0.498228,1.1282 -1.890248,2.03306 -2.250759,4.86551 -0.05444,0.42769 2.382319,-1.16295 2.030776,-0.83817 -1.351806,1.24889 -1.835431,3.68849 -1.804974,4.71985 0.09221,3.12264 1.305607,-1.04369 2.140284,-1.34389 0.379598,-0.13652 -1.366299,2.97605 -1.395278,4.44179 -0.04455,2.25342 4.532326,10.89254 6.424225,15.03359 3.497907,7.65633 1.224219,8.03295 10.830325,8.03295 9.579421,0 6.263281,-0.0288 9.366231,-7.50126 2.68344,-6.4622 3.84691,-9.54092 5.22739,-15.41024 0.0841,-0.35775 0.14371,-0.95503 -0.0129,-1.2793 -0.17422,-0.3608 -0.43341,-0.88533 -0.56454,-1.8463 -0.0497,-0.3645 0.62418,0.65115 1.04739,0.91343 0.26563,0.16461 0.29617,-0.81374 0.23138,-1.24021 -0.16331,-1.0749 -0.47069,-2.2354 -0.72257,-3.09507 -0.21152,-0.72192 -0.14398,-0.74046 0.22065,-0.0744 0.1518,0.2773 0.31317,0.54377 0.46343,0.73183 0.22812,0.28552 0.63484,-0.78335 0.54667,-1.38691 -0.16883,-1.15575 -0.67301,-2.50265 -1.42946,-3.30536 -0.38856,-0.41232 1.81171,1.78487 1.7265,0.79142 -0.0565,-0.65903 -0.33785,-1.28573 -0.68113,-1.81916 -0.66042,-1.02623 -0.75203,-0.95876 0.28392,-1.03597 0.30499,-0.0227 0.45555,-0.1714 0.23364,-0.54906 -0.0256,-0.0435 -0.0514,-0.0866 -0.0775,-0.12922 -1.67979,-2.74555 -2.66683,-4.18812 0.28976,-5.79543 l 5.24571,-2.85175 -0.30058,-1.76375 4.82266,-3.79141 c -0.38801,-1.32982 -2.82644,-4.62425 -3.22484,-5.94483 -0.40426,-1.34005 1.23135,-0.70611 0.81695,-2.03726 -4.27064,-13.718417 -8.84333,-17.08173 -13.84807,-30.232379 l -5.977547,6.487222 a 5.9904461,5.9904461 144.6213 0 1 -2.024786,1.437808 4.1240842,4.1240842 0.67220072 0 1 -3.269923,-0.03836 6.7896716,6.7896716 39.233541 0 1 -2.382445,-1.945398 z"
       transform="matrix(0.89116284,0,0,0.58964883,13.05566,28.784095)" />
  </g>
  <g
     id="layer1"
     style="fill:#ffffff"
     transform="translate(-73.690209,-69.672709)">
    <path
       style="display:inline;fill:#4d4d4d;stroke:none;stroke-width:0.264583;stroke-opacity:1"
       id="nose"
       d="m 97.90406,89.701851 -3.336925,-5.779724 6.673855,-10e-7 z"
       transform="matrix(0.56249837,0,0,0.2313807,42.376635,67.842475)" />
    <circle
       style="stroke:none;stroke-width:0.274926;stroke-opacity:1"
       id="left-eye"
       cx="90.038147"
       cy="81.345764"
       r="5.6366863" 
       fill="#20FFBC"/>
    <path
       id="left-pupil"
       style="fill:#000000;stroke-width:0.234752"
       cx="100"
       cy="201"
       d="m 89.741232,77.265319 a 3.04701,4.6934277 0 0 0 -1.536827,4.062993 3.04701,4.6934277 0 0 0 1.319233,3.85586 3.04701,4.6934277 0 0 0 1.531653,-4.059578 3.04701,4.6934277 0 0 0 -1.314059,-3.859275 z" />
    <circle
       style="stroke:none;stroke-width:0.274926;stroke-opacity:1"
       id="right-eye"
       cx="104.82624"
       cy="81.389938"
       r="5.6366863" 
       fill="#20FFBC"
       />
    <path
       id="right-pupil"
       style="fill:#000000;stroke-width:0.234752"
       d="m 104.6911,77.186455 a 3.04701,4.6934277 0 0 0 -1.53683,4.062992 3.04701,4.6934277 0 0 0 1.31923,3.855859 3.04701,4.6934277 0 0 0 1.53165,-4.059578 3.04701,4.6934277 0 0 0 -1.31405,-3.859273 z" />
  </g>
  <path
     id="left-back-leg"
     fill="#000000"
     style="stroke:#ffffff;stroke-width:0.25;stroke-dasharray:none;stroke-opacity:1"
     d="m 8.7259015,40.987501 c -5.037069,3.22458 0.01976,5.51347 3.4242175,9.1392 -2.7703835,0.31742 -4.7001225,0.77894 -4.7918365,1.95157 -0.141768,1.8127 5.8364215,0.83334 9.2265385,0.16224 -2.177218,-1.77164 -7.8589195,-11.253 -7.8589195,-11.253 z" />
  <path
     fill="#000000"
     style="stroke:#ffffff;stroke-width:0.25;stroke-dasharray:none;stroke-opacity:1"
     d="m 34.424181,44.504561 c -4.7482,7.0296 -3.90858,7.67899 -3.90858,7.67899 0,0 8.64175,-2.57082 11.58778,-5.01153 2.16942,-1.79731 9.12788,-4.48048 12.67029,-5.77075 4.28473,-1.56064 8.72338,-9.58728 9.70885,-11.470381 0.8577,-1.638956 -2.39333,1.585731 -1.18967,-0.744277 0.70885,-1.37217 3.35597,-15.099112 3.11859,-14.704038 -0.99661,1.658691 -2.35939,3.2156 -0.20267,-3.554478 0.75399,-2.3668104 -0.60302,-9.9779894 -0.60302,-9.9779894 0,0 -0.69174,3.925086 -5.90766,7.693855 -1.36604,0.987028 0.0978,-6.72977 -0.39489,-5.158557 -0.59593,1.900298 -3.72769,0.230665 -5.78128,8.8882024 -0.52586,2.216938 -2.39991,2.345043 -2.93039,-2.113546 -0.55113,-4.6321344 -1.14599,13.591934 -2.04132,16.990533 -0.52834,2.005522 -0.62947,-2.014965 -0.91738,-1.065331 -0.83354,2.74932 -2.27578,7.297207 -3.0173,8.183287 -1.09723,1.31113 -1.04044,-0.59693 -1.39599,0.14874 -1.25807,2.63845 -4.04717,2.95767 -8.79537,9.98727 z"
     id="tail" />
  <path
     d="m 24.143255,43.716999 v 9.595426 c 0,2.579823 3.597426,2.429521 3.597426,0 v -9.595426"
     fill="#000000"
     stroke="#ffffff"
     stroke-width="0.359743"
     stroke-dasharray="1, 0, 1, 0, 1, 0, 1, 0"
     id="left-front-leg"
     style="display:inline" />
  <path
     d="m 18.261041,43.716999 v 9.595426 c 0,2.579823 3.597426,2.429521 3.597426,0 v -9.595426"
     fill="#000000"
     stroke="#ffffff"
     stroke-width="0.359743"
     stroke-dasharray="1, 0, 1, 0, 1, 0, 1, 0"
     id="right-front-leg" />
  <rect
     style="fill:#4d4d4d;stroke:none;stroke-width:0.188982;stroke-linecap:butt;stroke-miterlimit:3.5;stroke-dasharray:none;stroke-opacity:1"
     id="mouth"
     width="1.5666614"
     height="0.15527612"
     x="22.91268"
     y="23.779776" />
</svg>
</g>
</svg>
<style>
   button {
      margin-top: 10px;
      padding: 10px 10px;
      font-size: 16px;
      margin-right: 2px;
      cursor: pointer;
      position: relative;
      border-radius: 5px;
   }
</style>

<button id="downloadBtn">Download SVG</button>
<button id="downloadBtnPNG">Download SVG as PNG</button>

Eye Color <br/>
<button id="changeToOriginalButton" style="background:#20FFBC"></button>
<button id="changeToRedButton" style="background:red"></button>
<button id="changeToGreenButton" style="background:green"></button>
<button id="changeToBlueButton" style="background:blue"></button>
<button id="changeToWhiteButton" style="background:white"></button>
<button id="applyEyeRainbowBtn" style="  background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);"></button>

Fur Color <br/>
<button id="changeFurToOriginalButton" style="background:#000"></button>
<button id="changeFurToRedButton" style="background:red"></button>
<button id="changeFurToGreenButton" style="background:green"></button>
<button id="changeFurToBlueButton" style="background:blue"></button>
<button id="changeFurToWhiteButton" style="background:white"></button>
<button id="applyFurRainbowBtn" style="background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet);"></button>

Pupil Shape
Fur Color <br/>
<button id="circleEyes" style="background:#000"></button>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const svg = document.getElementById('svg1');
    const leftPupil = document.getElementById('left-pupil');
    const rightPupil = document.getElementById('right-pupil');

    // Get the bounding box of the SVG to calculate positions relative to it
    const svgRect = svg.getBoundingClientRect();

    // Center coordinates of the eyes relative to the SVG
    const leftEyeCenter = { x: 90.038147, y: 81.345764 };
    const rightEyeCenter = { x: 104.82624, y: 81.389938 };

    // Maximum pupil movement radius
    const maxMovementRadius = 3; // Adjust this value to control pupil movement range

    // Function to update pupil positions based on mouse movement
    function updatePupilPositions(event) {
        // Calculate mouse position relative to the SVG
        const mouseX = event.clientX - svgRect.left;
        const mouseY = event.clientY - svgRect.top;

        // Calculate the distance from the mouse to the eye centers
        const leftDistance = Math.sqrt(
            Math.pow(mouseX - leftEyeCenter.x, 2) + Math.pow(mouseY - leftEyeCenter.y, 2)
        );
        const rightDistance = Math.sqrt(
            Math.pow(mouseX - rightEyeCenter.x, 2) + Math.pow(mouseY - rightEyeCenter.y, 2)
        );

        // Calculate new pupil positions
        let leftPupilX = leftEyeCenter.x + ((mouseX - leftEyeCenter.x) / leftDistance) * maxMovementRadius;
        let leftPupilY = leftEyeCenter.y + ((mouseY - leftEyeCenter.y) / leftDistance) * maxMovementRadius;

        let rightPupilX = rightEyeCenter.x + ((mouseX - rightEyeCenter.x) / rightDistance) * maxMovementRadius;
        let rightPupilY = rightEyeCenter.y + ((mouseY - rightEyeCenter.y) / rightDistance) * maxMovementRadius;

        // Ensure pupils don't move outside their respective eye circles
        if (leftDistance > maxMovementRadius) {
            leftPupilX = leftEyeCenter.x + ((mouseX - leftEyeCenter.x) / leftDistance) * maxMovementRadius;
            leftPupilY = leftEyeCenter.y + ((mouseY - leftEyeCenter.y) / leftDistance) * maxMovementRadius;
        }

        if (rightDistance > maxMovementRadius) {
            rightPupilX = rightEyeCenter.x + ((mouseX - rightEyeCenter.x) / rightDistance) * maxMovementRadius;
            rightPupilY = rightEyeCenter.y + ((mouseY - rightEyeCenter.y) / rightDistance) * maxMovementRadius;
        }

        // Update pupil positions
        leftPupil.setAttribute('transform', `translate(${leftPupilX - leftEyeCenter.x}, ${leftPupilY - leftEyeCenter.y})`);
        rightPupil.setAttribute('transform', `translate(${rightPupilX - rightEyeCenter.x}, ${rightPupilY - rightEyeCenter.y})`);
    }

    // Add mousemove event listener to the document
    document.addEventListener('mousemove', updatePupilPositions);
});

// script.js
function changeFurColor(pathId, color) {
    var path = document.getElementById(pathId);

   //  var right = document.getElementById('right-eye');
    // Log the current fill color
   //  console.log('Current fill color:', left.getAttribute('fill'));
    // Change the fill color to the specified color
    path.setAttribute('fill', color);
   
   //  right.setAttribute('fill', color);
    // Log the new fill color
   //  console.log('New fill color:', left.getAttribute('fill'));
}

function changeEyeColor(pathID, color) {
    var path = document.getElementById(pathID);
    // Log the current fill color
    console.log('Current fill color:', path.getAttribute('fill'));
    // Change the fill color to the specified color
    path.setAttribute('fill', color);
    // Log the new fill color
    console.log('New fill color:', path.getAttribute('fill'));
}


// Add event listeners to the buttons
document.getElementById('changeToRedButton').addEventListener('click', function() {
    changeEyeColor('left-eye','red');
    changeEyeColor('right-eye','red');
});

document.getElementById('changeToGreenButton').addEventListener('click', function() {
    changeEyeColor('left-eye','green');
    changeEyeColor('right-eye','green');
});

document.getElementById('changeToBlueButton').addEventListener('click', function() {
    changeEyeColor('left-eye','blue');
    changeEyeColor('right-eye','blue');
});

document.getElementById('changeToOriginalButton').addEventListener('click', function() {
    changeEyeColor('left-eye','#20FFBC');
    changeEyeColor('right-eye','#20FFBC');
});

document.getElementById('changeToWhiteButton').addEventListener('click', function() {
    changeEyeColor('left-eye','white');
    changeEyeColor('right-eye','white');
});

//Fur Color
// Add event listeners to the buttons
document.getElementById('changeFurToRedButton').addEventListener('click', function() {
    changeFurColor('body-head','red');
    changeFurColor('left-front-leg','red');
    changeFurColor('right-front-leg','red');
    changeFurColor('left-back-leg','red');
    changeFurColor('tail','red');
});

document.getElementById('changeFurToGreenButton').addEventListener('click', function() {
    changeFurColor('body-head','green');
    changeFurColor('left-front-leg','green');
    changeFurColor('right-front-leg','green');
    changeFurColor('left-back-leg','green');
    changeFurColor('tail','green');
});

document.getElementById('changeFurToBlueButton').addEventListener('click', function() {
    changeFurColor('body-head','blue');
    changeFurColor('left-front-leg','blue');
    changeFurColor('right-front-leg','blue');
    changeFurColor('left-back-leg','blue');
    changeFurColor('tail','blue');
});

document.getElementById('changeFurToOriginalButton').addEventListener('click', function() {
    changeFurColor('body-head','black');
    changeFurColor('left-front-leg','black');
    changeFurColor('right-front-leg','black');
    changeFurColor('left-back-leg','black');
    changeFurColor('tail','black');
});

document.getElementById('changeFurToWhiteButton').addEventListener('click', function() {
    changeFurColor('body-head','white');
    changeFurColor('left-front-leg','white');
    changeFurColor('right-front-leg','white');
    changeFurColor('left-back-leg','white');
    changeFurColor('tail','white');
});

document.getElementById('downloadBtn').addEventListener('click', function() {
   // Get the SVG element
   var svg = document.getElementById('cat');

   // Convert the SVG to a string
   var svgString = new XMLSerializer().serializeToString(svg);

   // Create a Blob from the SVG string
   var blob = new Blob([svgString], { type: 'image/svg+xml;charset=utf-8' });

   // Create a URL for the Blob
   var url = URL.createObjectURL(blob);

   // Create a temporary link element
   var a = document.createElement('a');
   a.href = url;
   a.download = 'mySvg.svg';

   // Append the link to the body and click it
   document.body.appendChild(a);
   a.click();

   // Remove the link and revoke the URL
   document.body.removeChild(a);
   URL.revokeObjectURL(url);
});

document.getElementById('downloadBtnPNG').addEventListener('click', function() {
            // Get the SVG element
            var svg = document.getElementById('cat');

            // Convert the SVG to a string
            var svgString = new XMLSerializer().serializeToString(svg);

            // Create a canvas element
            var canvas = document.createElement('canvas');
            var ctx = canvas.getContext('2d');

            // Set the canvas size to match the SVG
            canvas.width = svg.width.baseVal.value;
            canvas.height = svg.height.baseVal.value;

            // Create an image element
            var img = new Image();
            img.onload = function() {
                // Draw the image onto the canvas
                ctx.drawImage(img, 0, 0);

                // Convert the canvas to a PNG data URL
                var pngUrl = canvas.toDataURL('image/png');

                // Create a temporary link element
                var a = document.createElement('a');
                a.href = pngUrl;
                a.download = 'mySvg.png';

                // Append the link to the body and click it
                document.body.appendChild(a);
                a.click();

                // Remove the link
                document.body.removeChild(a);
            };

            // Set the image source to the SVG data URL
            img.src = 'data:image/svg+xml;base64,' + btoa(svgString);
        });

                // Function to apply rainbow fill to a specific path
        function applyRainbowFill(pathId) {
            // Get the SVG and path elements
            var svg = document.getElementById('svg1');
            console.log(pathId);
            var path = document.getElementById(pathId);

            // Create a linear gradient element
            var defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            var gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
            gradient.id = 'rainbowGradient_' + pathId;
            gradient.setAttribute('x1', '0%');
            gradient.setAttribute('y1', '0%');
            gradient.setAttribute('x2', '100%');
            gradient.setAttribute('y2', '0%');

            // Add gradient stops
            var colors = [
                { offset: '0%', color: 'rgb(255,0,0)' },
                { offset: '16.6%', color: 'rgb(255,165,0)' },
                { offset: '33.3%', color: 'rgb(255,255,0)' },
                { offset: '50%', color: 'rgb(0,128,0)' },
                { offset: '66.6%', color: 'rgb(0,0,255)' },
                { offset: '83.3%', color: 'rgb(75,0,130)' },
                { offset: '100%', color: 'rgb(238,130,238)' }
            ];

            colors.forEach(function(color) {
                var stop = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
                stop.setAttribute('offset', color.offset);
                stop.style.stopColor = color.color;
                stop.style.stopOpacity = '1';
                gradient.appendChild(stop);
            });

            // Append the gradient to the defs
            defs.appendChild(gradient);
            svg.appendChild(defs);

            // Set the path's fill to use the gradient
            path.setAttribute('fill', 'url(#rainbowGradient_' + pathId + ')');
        }

        // Add event listeners to the buttons
        document.getElementById('applyEyeRainbowBtn').addEventListener('click', function() {
            applyRainbowFill('left-eye');
            applyRainbowFill('right-eye');
        });

        document.getElementById('applyFurRainbowBtn').addEventListener('click', function() {
            applyRainbowFill('body-head');
            applyRainbowFill('left-front-leg');
            applyRainbowFill('right-front-leg');
            applyRainbowFill('left-back-leg');
            applyRainbowFill('tail');
        });

        document.getElementById('circleEyes').addEventListener('click', function () {
            var path = document.getElementById('left-pupil');
            d="m 89.741232,77.265319 a 4.04701,4.6934277 0 0 0 -1.536827,4.062993 3.04701,4.6934277 0 0 0 1.319233,3.85586 3.04701,4.6934277 0 0 0 1.531653,-4.059578 3.04701,4.6934277 0 0 0 -1.314059,-3.859275 z";
            path.setAttribute('d', d);
        })
</script>