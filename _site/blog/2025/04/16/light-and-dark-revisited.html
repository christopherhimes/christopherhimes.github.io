<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Light and Dark Mode Revisited</title>

  
  <meta name="author" content="Christopher Himes">
  

  <meta name="description" content="I wanted to revisit the light and dark update as the original described some changes but didnâ€™t display how these changes impacted the experience on the site. Now that images are working a bit better I figured I would show exactly whatâ€™s happening on the site in its current state. The dark mode which is the primary way I view the site uses an almost black background with bright green and blue for the headers and links respectively. rgb(26, 26, 26) rgb(32, 255, 188) rgb(25, 209, 255) The light mode which I imagine will be the way most people view the site uses an almost white background with medium green and blue for the headers and links respectively. rgb(240,240,240) rgb(0, 119, 83) rgb(1, 151, 189) Additionally, Iâ€™ve simplified the setup for light and dark based on a recent blog by James G that was a follow up to his original post that inspired this setup in the first place. Previously the CSS suffered from the same redundancy he discussed in his blog post where every time a color was used it checked light-dark. Now this is baked into the :root variables like so: :root { color-scheme: light dark; --background-color: light-dark(rgb(240,240,240), rgb(26, 26, 26)); --foreground-color: light-dark(rgb(0, 119, 83), rgb(32, 255, 188)); --link-color: light-dark(rgb(1, 151, 189), rgb(25, 209, 255)); --text-color: light-dark(rgb(26, 26, 26), rgb(240,240,240)); --line-color: rgba(211, 211, 211, 30%); } This allows h1 to be styled like so: h1 { color: var(--foreground-color); } One last thing is the use of gradients which...">

  

  

  
  <link rel="alternate" type="application/rss+xml" title="christopher himes" href="http://localhost:4000/feed.xml">
  

  

  

  

  
  
  

  
  <meta property="og:site_name" content="christopher himes">
  <meta property="og:title" content="Light and Dark Mode Revisited">
  <meta property="og:description" content="I wanted to revisit the light and dark update as the original described some changes but didnâ€™t display how these changes impacted the experience on the site. Now that images are working a bit better I figured I would show exactly whatâ€™s happening on the site in its current state. The dark mode which is the primary way I view the site uses an almost black background with bright green and blue for the headers and links respectively. rgb(26, 26, 26) rgb(32, 255, 188) rgb(25, 209, 255) The light mode which I imagine will be the way most people view the site uses an almost white background with medium green and blue for the headers and links respectively. rgb(240,240,240) rgb(0, 119, 83) rgb(1, 151, 189) Additionally, Iâ€™ve simplified the setup for light and dark based on a recent blog by James G that was a follow up to his original post that inspired this setup in the first place. Previously the CSS suffered from the same redundancy he discussed in his blog post where every time a color was used it checked light-dark. Now this is baked into the :root variables like so: :root { color-scheme: light dark; --background-color: light-dark(rgb(240,240,240), rgb(26, 26, 26)); --foreground-color: light-dark(rgb(0, 119, 83), rgb(32, 255, 188)); --link-color: light-dark(rgb(1, 151, 189), rgb(25, 209, 255)); --text-color: light-dark(rgb(26, 26, 26), rgb(240,240,240)); --line-color: rgba(211, 211, 211, 30%); } This allows h1 to be styled like so: h1 { color: var(--foreground-color); } One last thing is the use of gradients which...">
  <meta name="twitter:title" content="Light and Dark Mode Revisited">
  <meta name="twitter:description" content="I wanted to revisit the light and dark update as the original described some changes but didnâ€™t display how these changes impacted the experience on the site. Now that images are working a bit better I figured I would show exactly whatâ€™s happening on the site in its current state. The dark mode which is the primary way I view the site uses an almost black background with bright green and blue for the headers and links respectively. rgb(26, 26, 26) rgb(32, 255, 188) rgb(25, 209, 255) The light mode which I imagine will be the way most people view the site uses an almost white background with medium green and blue for the headers and links respectively. rgb(240,240,240) rgb(0, 119, 83) rgb(1, 151, 189) Additionally, Iâ€™ve simplified the setup for light and dark based on a recent blog by James G that was a follow up to his original post that inspired this setup in the first place. Previously the CSS suffered from the same redundancy he discussed in his blog post where every time a color was used it checked light-dark. Now this is baked into the :root variables like so: :root { color-scheme: light dark; --background-color: light-dark(rgb(240,240,240), rgb(26, 26, 26)); --foreground-color: light-dark(rgb(0, 119, 83), rgb(32, 255, 188)); --link-color: light-dark(rgb(1, 151, 189), rgb(25, 209, 255)); --text-color: light-dark(rgb(26, 26, 26), rgb(240,240,240)); --line-color: rgba(211, 211, 211, 30%); } This allows h1 to be styled like so: h1 { color: var(--foreground-color); } One last thing is the use of gradients which...">

  
  <meta property="og:image" content="http://localhost:4000/assets/og-images/light-and-dark-revisited.webp">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:4000/assets/og-images/light-and-dark-revisited.webp">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Christopher Himes">
  <meta property="og:article:published_time" content="2025-04-16T10:30:00-04:00">
  <meta property="og:url" content="http://localhost:4000/blog/2025/04/16/light-and-dark-revisited.html">
  <link rel="canonical" href="http://localhost:4000/blog/2025/04/16/light-and-dark-revisited.html">
  
  <style type="text/css">
    
    :root {
  color-scheme: light dark;
  --background-color: light-dark(rgb(240,240,240), rgb(26, 26, 26));
  --text-color: light-dark(rgb(0, 87, 59), rgb(32, 255, 188));
  --link-color: light-dark(rgb(1, 85, 106), rgb(25, 209, 255));
  --text-color: light-dark(rgb(26, 26, 26), rgb(240,240,240));
  --invert-text-color: light-dark(rgb(240,240,240),rgb(26, 26, 26));
  --line-color: rgba(211, 211, 211, 30%);
}

body {
  --background-color: rgb(122, 255, 205);
  --link-color: rgb(31, 46, 34);
  --text-color: rgb(42, 63, 46);
  color-scheme: light;
}

/* Dark mode styles */
body.dark-mode {
  --background-color: rgb(31, 61, 54);
  --link-color: rgb(57, 255, 179);
  --text-color: rgb(122, 255, 205);
  color-scheme: dark;
}

@font-face {
  font-family: "Hattori Hanzo";
  src: url("../../../../../assets/font/Hattori_Hanzo.woff2") format("woff2"), url("../../../../../assets/font/Hattori_Hanzo.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0025-00FF;
}
@font-face {
  font-family: "playfair_displayregular";
  src: url("../../../../../assets/font/playfairdisplay-regular-webfont.woff2") format("woff2"), url("../../../../../assets/font/playfairdisplay-regular-webfont.woff") format("woff");
  font-weight: normal;
  font-style: normal;
}
body {
  background-color: var(--background-color);
  color: var(--text-color);
  margin: 0px;
  padding: 0px;
  font-family: "Hattori Hanzo", Arial, Helvetica, sans-serif;
  letter-spacing: 0.05em;
  line-height: 2em;
}

h1, h2, h3, h4, h5 {
  font-family: "playfair_displayregular", Georgia, "Times New Roman", Times, serif;
}

span {
  margin: 0;
  padding: none;
}

h1 {
  color: var(--link-color);
}

h2 {
  font-size: 1.5em;
  color: var(--text-color);
}

h3 {
  font-size: 1.25em;
  color: var(--text-color);
}

hr {
  border-top: solid 0.2em var(--text-color);
  width: 100%;
}

p, li, ul {
  color: var(--text-color);
}

p {
  margin: 1em auto;
}

.site-header a:hover, .footer-wrapper a:hover, article a:hover {
  text-decoration: underline;
  background-color: var(--text-color);
  color: var(--background-color);
}

a {
  color: var(--link-color);
  text-decoration: underline;
  transition: background-color 0.5s, color 0.5s;
}

.language-plaintext {
  width: 750px;
  word-break: break-all;
  display: block;
  overflow: auto;
}

.headline {
  font-size: 1.5em;
}

.post-link {
  font-size: 2em;
}

.wrapper {
  margin: 1em auto;
  width: 100%;
}

.site-nav {
  margin-top: 0;
  float: right;
}

.page-link {
  margin: 0 1em;
}

.post-detail a, p a, .pagination a {
  text-decoration: underline;
}

.face {
  clip-path: circle(150px at center);
  filter: grayscale(0.75);
}

.site-title {
  font-family: "playfair_displayregular", Georgia, "Times New Roman", Times, serif;
  font-size: 1.3em;
  text-decoration: none;
}

.site-title a {
  text-decoration: none;
}

.site-header {
  border-image: linear-gradient(34deg, var(--text-color), var(--link-color)) 1;
  border-width: 3px;
  border-style: solid;
  border-left: 0;
  border-right: 0;
  border-bottom: 0px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.site-title {
  padding-left: 1em;
}

.home-wrapper {
  display: flex;
  justify-content: cenleter;
  align-items: center;
  gap: 3em;
  margin: 2em auto;
  flex-direction: row;
  width: 800px;
  flex: 2 100%;
}

.home-wrapper-column {
  display: flex;
  justify-content: left;
  align-items: left;
  width: 800px;
  gap: 2em;
  margin: 2em auto;
  margin-bottom: 4em;
  flex-direction: column;
  flex: 1 100%;
}

.home-name {
  font-family: "playfair_displayregular", Georgia, "Times New Roman", Times, serif;
  background: -webkit-gradient(linear, left top, right bottom, from(var(--text-color)), to(var(--link-color)));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-size: 2.5em;
}

.home-heading {
  font-size: 2em;
  color: var(--text-color);
}

.site-nav {
  display: flex;
  padding: 10px 15px;
}

.wrapper {
  margin: auto;
  display: flex;
  justify-content: left;
  align-items: left;
  gap: 3em;
  flex-direction: column;
  flex: 1 100%;
}

.home-blog {
  flex-direction: column;
}

.blogimg {
  max-width: 750px;
  border: 1px solid var(--text-color);
}

.article {
  border-width: 2px;
  border-style: solid;
  padding: 1em;
  border: 2px solid transparent;
  border-radius: 20px;
  background-origin: border-box;
  background-clip: padding-box, border-box;
  display: flex;
  flex-flow: column;
  justify-content: left;
}

.post-detail, .page-detail {
  display: flex;
  justify-content: center;
  align-items: left;
  flex-direction: column;
  font-size: 1.25em;
  margin: 0 auto;
  width: 700px;
}

.blog-entry {
  width: 100%;
  padding: 1em 0;
  align-items: left;
  text-align: left;
  border-top: solid 2px --text-color;
}

.footer-wrapper {
  display: flex;
  justify-content: center;
  margin: auto;
  display: flex;
  align-items: left;
  flex-direction: row;
  flex: 1 100%;
  align-items: flex-start;
  gap: 0.01em;
}

.footer-col {
  vertical-align: top;
  text-align: left;
}

.footer-links {
  justify-content: left;
  padding-left: 0;
  list-style: none;
  line-height: 1.5em;
  width: 200px;
}

.footer-links a {
  padding: 0;
  margin: auto;
}

.circle-image-container {
  width: 300px;
  height: 300px;
  overflow: hidden;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.face {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

#theme-toggle {
  border: 0px;
  background: none;
}

@media (max-width: 800px) {
  .site-title {
    font-size: 2em;
    padding: 0;
  }
  hr {
    width: 80%;
  }
  .wrapper {
    width: 90%;
  }
  .site-nav {
    flex-direction: column;
    justify-content: center;
    width: 90%;
    text-align: center;
    font-size: 1.4em;
  }
  .home-wrapper {
    flex-direction: column;
    width: 90%;
  }
  .footer-wrapper {
    flex-direction: column;
    justify-content: center;
    width: 90%;
  }
  .home-col {
    font-size: 0.8em;
  }
  .footer-col, .page-detail, .post-detail, .home-wrapper-column {
    width: 100%;
    justify-content: center;
  }
  .site-header {
    justify-content: center;
    flex-direction: column;
  }
  img {
    width: 100%;
  }
  .footer-col {
    text-align: center;
  }
  .footer-links {
    font-size: 1.4em;
    text-align: center;
    width: 100%;
  }
}
  </style>
  <link rel="stylesheet" href="/assets/css/style.css" media="print" onload="this.onload=null;this.removeAttribute('media');" fetchpriority="high">
  <link rel="stylesheet" href="/assets/css/syntax_monokai.css" media="print" onload="this.onload=null;this.removeAttribute('media');" fetchpriority="low">
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  
<script defer src="https://cloud.umami.is/script.js" data-website-id="7903148e-8cb8-40be-991a-b1343d8c556e"></script>
<link rel="webmention" href="https://webmention.io/christopherhimes.com/webmention" />
</head>
<body><header>
  <nav class="site-header"><div class="site-title">
      <a rel="author" href="/">christopher himes</a>
    </div><nav class="site-nav"><a class="page-link" href="/about/">about</a><a class="page-link" href="/cv/">resume/cv</a><a class="page-link" href="/blog">blog</a>
      </nav></nav>
</header>
<main class="wrapper" aria-label="Content">
        

<div class="" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="post-detail">
  <header>
    <h1 class="post-title" itemprop="name headline">Light and Dark Mode Revisited</h1>
    <p><time class="dt-published" datetime="2025-04-16T10:30:00-04:00" itemprop="datePublished">
        Apr 16, 2025
      </time>
      &nbsp;<span class="reading_time">read in about 3 minutes</span><span class="reading_time">&nbsp;( Modified on<time datetime="2025-04-30T08:00:00-04:00" itemprop="dateModified">
          Apr 30, 2025
        </time>)</span></p>
  </header>
    <article itemprop="articleBody">
      <style>
.box {
  float: left;
  /* height: 50px; */
  /* width: 50px; */
  padding: 15px;
  text-align: center;
  vertical-align: center;
  margin-bottom: 15px;
  border: 1px solid light-dark(rgb(26, 26, 26), rgb(240,240,240));
  color: black;
  /* clear: both; */
}
.white {background-color: rgb(240,240,240);}
.black {background-color: rgb(26, 26, 26);color:white;}
.medium-green {background-color: rgb(0, 119, 83);}
.bright-green {background-color: rgb(32, 255, 188);}
.medium-blue {background-color: rgb(1, 151, 189);}
.bright-blue {background-color: rgb(25, 209, 255);}
</style>

<p>I wanted to revisit the light and dark update as the original described some changes but didnâ€™t display how these changes impacted the experience on the site. Now that images are working a bit better I figured I would show exactly whatâ€™s happening on the site in its current state.</p>

<p>The dark mode which is the primary way I view the site uses an almost black background with bright green and blue for the headers and links respectively.</p>

<div class="box black">rgb(26, 26, 26)</div>
<div class="box bright-green">rgb(32, 255, 188)</div>
<div class="box bright-blue">rgb(25, 209, 255)</div>

<p><img class="blogimg" alt="Dark mode version of this site with a near black background, bright blue links, white text, and bright green header text" loading="lazy" src="/assets/img//blog/light-and-dark/dark-mode.webp" /></p>

<p>The light mode which I imagine will be the way most people view the site uses an almost white background with medium green and blue for the headers and links respectively.</p>

<div class="box white">rgb(240,240,240)</div>
<div class="box medium-green">rgb(0, 119, 83)</div>
<div class="box medium-blue">rgb(1, 151, 189)</div>

<p><img class="blogimg" alt="Light mode version of this site with a near white background, medium blue links, near black text, and medium green header text" loading="lazy" src="/assets/img//blog/light-and-dark/light-mode.webp" /></p>

<p>Additionally, Iâ€™ve simplified the setup for light and dark based on a recent blog by <a href="https://jamesg.blog/2025/04/03/light-dark-root">James G</a> that was a follow up to his original post that inspired this setup in the first place. Previously the CSS suffered from the same redundancy he discussed in his blog post where every time a color was used it checked light-dark. Now this is baked into the :root variables like so:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">:root</span> <span class="p">{</span>
    <span class="py">color-scheme</span><span class="p">:</span> <span class="n">light</span> <span class="n">dark</span><span class="p">;</span>
    <span class="py">--background-color</span><span class="p">:</span> <span class="n">light-dark</span><span class="p">(</span><span class="nb">rgb</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">),</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">26</span><span class="p">,</span> <span class="m">26</span><span class="p">,</span> <span class="m">26</span><span class="p">));</span>
    <span class="py">--foreground-color</span><span class="p">:</span> <span class="n">light-dark</span><span class="p">(</span><span class="nb">rgb</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">119</span><span class="p">,</span> <span class="m">83</span><span class="p">),</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">32</span><span class="p">,</span> <span class="m">255</span><span class="p">,</span> <span class="m">188</span><span class="p">));</span>
    <span class="py">--link-color</span><span class="p">:</span> <span class="n">light-dark</span><span class="p">(</span><span class="nb">rgb</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">151</span><span class="p">,</span> <span class="m">189</span><span class="p">),</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">25</span><span class="p">,</span> <span class="m">209</span><span class="p">,</span> <span class="m">255</span><span class="p">));</span>
    <span class="py">--text-color</span><span class="p">:</span> <span class="n">light-dark</span><span class="p">(</span><span class="nb">rgb</span><span class="p">(</span><span class="m">26</span><span class="p">,</span> <span class="m">26</span><span class="p">,</span> <span class="m">26</span><span class="p">),</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">));</span>
    <span class="py">--line-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">211</span><span class="p">,</span> <span class="m">211</span><span class="p">,</span> <span class="m">211</span><span class="p">,</span> <span class="m">30%</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This allows h1 to be styled like so:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">h1</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--foreground-color</span><span class="p">);</span>
<span class="p">}</span> 
</code></pre></div></div>

<p>One last thing is the use of gradients which also change in response to the light or dark settings from the user. One example is the site-tile which is just how my name at the top left on desktop or the top center on mobile is classed. The variables plug in just the same here but the added simplicity really helps the more complex -webkit-gradient lines legibility.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.site-title</span> <span class="p">{</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="s2">'lato-normal'</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">1.2em</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="n">-webkit-gradient</span><span class="p">(</span><span class="n">linear</span><span class="p">,</span> <span class="nb">left</span> <span class="nb">top</span><span class="p">,</span> <span class="nb">right</span> <span class="nb">bottom</span><span class="p">,</span> <span class="n">from</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--foreground-color</span><span class="p">)),</span> <span class="n">to</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--link-color</span><span class="p">)));</span>
    <span class="nl">-webkit-background-clip</span><span class="p">:</span> <span class="nb">text</span><span class="p">;</span>
    <span class="nl">background-clip</span><span class="p">:</span> <span class="nb">text</span><span class="p">;</span>
    <span class="nl">-webkit-text-fill-color</span><span class="p">:</span> <span class="nb">transparent</span><span class="p">;</span>
    <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>These screenshots were taken by me on 4/11/25.</p>

<p>This is day 6  of #100DaysToOffload.</p>


      
      <div class="post-tags">
          
            <a class="tag-button" href="/tags/#CSS">CSS</a>
          
            <a class="tag-button" href="/tags/#Meta">Meta</a>
          
            <a class="tag-button" href="/tags/#100 Days To Offload">100 Days To Offload</a>
          
        </div>
      
    </article>
  <a href="/blog/2025/04/16/light-and-dark-revisited.html" hidden></a>
</div>
<div class="post-detail">
<hr /><!--
Inspired by https://codeberg.org/jwildeboer/jwildeboersource/src/commit/45f9750bb53b9f0f6f28399ce4d21785a3bb7d22/_includes/fediverse_comments.html
-->

<section id="comments" class="comments">
  <h2>Comments</h2>
  <p>Comment on this blog post by publicly replying to <a href="https://hachyderm.io/@eeentropyyy/114349289759138068">this Mastodon post</a> using a Mastodon or other ActivityPub/&ZeroWidthSpace;Fediverse account. Known non-private replies are displayed below.</p>

  <div id="comments-wrapper">
    <p><small>No known comments, yet. Reply to <a href="https://hachyderm.io/@eeentropyyy/114349289759138068">this Mastodon post</a> to add your own!</small></p>
    <noscript><p>Loading comments relies on JavaScript. Try enabling JavaScript and reloading, or visit <a href="https://hachyderm.io/@eeentropyyy/114349289759138068">the original post</a> on Mastodon.</p></noscript>
  </div>

  <script src="/assets/js/purify.min.js"></script>
  <script>
    loadComments ();

    function loadComments() {
      let commentsWrapper = document.getElementById("comments-wrapper");
      let postUrl = "https://hachyderm.io/api/v1/statuses/114349289759138068";

      fetch(postUrl)
      .then(function(response) {
        return response.json();
      })
      .then(function(op) {
        fetch(postUrl + "/context")
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          let descendants = data['descendants'];
          if(
            descendants &&
            Array.isArray(descendants) &&
            descendants.length > 0
          ) {
            commentsWrapper.innerHTML = "";
            descendants.unshift(op);

            data['descendants'].forEach(function(status) {
              if( status.account.display_name.length > 0 ) {
                status.account.display_name = escapeHtml(status.account.display_name);
                status.account.display_name = emojify(status.account.display_name, status.account.emojis);
              } else {
                status.account.display_name = status.account.username;
              };

              let instance = "";
              let verified = false;
              if( status.account.acct.includes("@") ) {
                instance = status.account.acct.split("@")[1];
              } else {
                instance = "hachyderm.io";
                verified = true;
              }

              status.content = emojify(status.content, status.emojis);

              let avatarSource = document.createElement("source");
              avatarSource.setAttribute("srcset", escapeHtml(status.account.avatar));
              avatarSource.setAttribute("media", "(prefers-reduced-motion: no-preference)");

              let avatarImg = document.createElement("img");
              avatarImg.className = "avatar";
              avatarImg.setAttribute("src", escapeHtml(status.account.avatar_static));
              avatarImg.setAttribute("alt", `Avatar for ${ status.account.display_name }`);

              let avatarPicture = document.createElement("picture");
              avatarPicture.appendChild(avatarSource);
              avatarPicture.appendChild(avatarImg);

              let avatarLink = document.createElement("a");
              avatarLink.className = "avatar-link";
              avatarLink.setAttribute("href", status.account.url);
              avatarLink.setAttribute("rel", "external nofollow");
              avatarLink.setAttribute("title", `View profile at @${ status.account.username }@${ instance }`);
              avatarLink.appendChild(avatarPicture);

              let instanceBadge = document.createElement("a");
              instanceBadge.className = "instance";
              instanceBadge.setAttribute("href", status.account.url);
              instanceBadge.setAttribute("title", `@${ status.account.username }@${ instance }`);
              instanceBadge.setAttribute("rel", "external nofollow");
              instanceBadge.textContent = instance;

              let display = document.createElement("span");
              display.className = "display";
              display.setAttribute("itemprop", "author");
              display.setAttribute("itemtype", "http://schema.org/Person");
              display.innerHTML = status.account.display_name;

              let header = document.createElement("header");
              header.className = "author";
              header.appendChild(display);
              header.appendChild(instanceBadge);

              let permalink = document.createElement("a");
              permalink.setAttribute("href", status.url);
              permalink.setAttribute("itemprop", "url");
              permalink.setAttribute("title", `View comment at ${ instance }`);
              permalink.setAttribute("rel", "external nofollow");
              permalink.textContent = new Date( status.created_at ).toLocaleString('en-US', {
                dateStyle: "long",
                timeStyle: "short",
              });

              let timestamp = document.createElement("time");
              timestamp.setAttribute("datetime", status.created_at);
              timestamp.appendChild(permalink);

              let main = document.createElement("main");
              main.setAttribute("itemprop", "text");
              main.innerHTML = status.content;

              let interactions = document.createElement("footer");
              if(status.favourites_count > 0) {
                let faves = document.createElement("a");
                faves.className = "faves";
                /* FIXME: This is a hack and probably won't work w/non-Mastodon instances */
                faves.setAttribute("href", `${ status.url }/favourites`);
                faves.setAttribute("title", `Favorites from ${ instance }`);
                faves.textContent = status.favourites_count;

                interactions.appendChild(faves);
              }

              let comment = document.createElement("article");
              comment.id = `comment-${ status.id }`;
              comment.className = "comment";
              comment.setAttribute("itemprop", "comment");
              comment.setAttribute("itemtype", "http://schema.org/Comment");
              comment.appendChild(avatarLink);
              comment.appendChild(header);
              comment.appendChild(timestamp);
              comment.appendChild(main);
              comment.appendChild(interactions);

              if(verified === true) {
                comment.classList.add("verified");
              }

              commentsWrapper.innerHTML += DOMPurify.sanitize(comment.outerHTML);
            });
          }
        });
      });
    }

    function emojify(input, emojis) {
      let output = input;

      emojis.forEach(emoji => {
        let picture = document.createElement("picture");

        let source = document.createElement("source");
        source.setAttribute("srcset", escapeHtml(emoji.url));
        source.setAttribute("media", "(prefers-reduced-motion: no-preference)");

        let img = document.createElement("img");
        img.className = "emoji";
        img.setAttribute("src", escapeHtml(emoji.static_url));
        img.setAttribute("alt", `:${ emoji.shortcode }:`);
        img.setAttribute("title", `:${ emoji.shortcode }:`);
        img.setAttribute("width", "20");
        img.setAttribute("height", "20");

        picture.appendChild(source);
        picture.appendChild(img);

        output = output.replace(`:${ emoji.shortcode }:`, picture.outerHTML);
      });

      return output;
    }

    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/'/g, "&apos;")
        .replace(/"/g, "&quot;")
      ;
    }
  </script>
</section><hr /></div>


</div>




    </main><footer class="footer-wrapper"> 
  <data class="u-url" href="/"></data>
      <div class="footer-col">
          <h3>links</h3>
            <ul class="footer-links">
              <li>
                <a href="/now">now
                </a>
              </li>
              <li>
                <a href="/todo">todo
                </a>
              </li>
              <li>
                <a href="/reviews">reviews
                </a>
              </li>
              <li>
                <a href="/colophon">colophon
                </a>
              </li>
              <li>
                <a href="/hundred">hundred
                </a>
              </li>
              <li>
                <a href="/experiments">experiments
                </a>
              </li>                              
      </div>
      <div class="footer-col">
          <h3>contact</h3>
            <ul class="footer-links">
              <li>
                <a rel="me" href="mailto:christopher@christopherhimes.com" title="Email me">email
              </a>
            </li>
            <li>
            <a rel="me" href="https://github.com/christopherhimes" title="GitHub">github
           </a>
          </li>
          <li>
            <a rel="me" href="https://hachyderm.io/@eeentropyyy">mastodon
            </a>
          </li>
          <li>
            <a rel="me" href="https://bsky.app/profile/eeentropyyy.hachyderm.io.ap.brid.gy">bluesky
            </a>
          </li>
          <li>
            <a href="/feed.xml" title="RSS">feed
            </a>
          </li>
          </ul>
      </div>
      <div class="footer-col">
        <p>Christopher Himes lives in Metro Detroit.
</p>
        <p>Â© 2025 Christopher Himes. Made in Michigan.</p>
        <p>Site last published: August 8, 2025 8:27 PM UTC-04:00</p>
      <button id="theme-toggle">
          <span id="sun-icon">
              ðŸŒž
          </span>
          <span id="moon-icon" style="display: none;">
              ðŸŒ™
          </span>
      </button>
      </div>
    <script>
        // Function to set the theme
        function setTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                document.getElementById('sun-icon').style.display = 'none';
                document.getElementById('moon-icon').style.display = 'inline';
            } else {
                document.body.classList.remove('dark-mode');
                document.getElementById('sun-icon').style.display = 'inline';
                document.getElementById('moon-icon').style.display = 'none';
            }
            localStorage.setItem('theme', theme);
        }

        // Initialize the theme based on the user's browser preference
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const currentTheme = localStorage.getItem('theme');

        // Determine the initial theme
        let initialTheme;
        if (currentTheme === 'dark') {
            initialTheme = 'dark';
        } else if (currentTheme === 'light') {
            initialTheme = 'light';
        } else {
            initialTheme = prefersDarkScheme.matches ? 'dark' : 'light';
        }

        // Set the initial theme
        setTheme(initialTheme);

        // Listen for changes in the user's preferred color scheme
        prefersDarkScheme.addEventListener('change', e => {
            const newTheme = e.matches ? 'dark' : 'light';
            setTheme(newTheme);
        });

        // Update local storage when theme is toggled
        document.getElementById('theme-toggle').addEventListener('click', function() {
            const isDarkMode = document.body.classList.contains('dark-mode');
            setTheme(isDarkMode ? 'light' : 'dark');
        });
    </script>
</footer>
</body>

</html>
