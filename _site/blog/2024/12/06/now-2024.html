<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Now Page 2024</title>

  
  <meta name="author" content="Christopher Himes">
  

  <meta name="description" content="While looking at personal sites for inspiration I found the idea of a now page. So I decided to make one for myself. There are lots of examples of this on NowNowNow but my now page is located at /now. For now it includes a personal, movie/TV, and music section. For the music section I’ve added a line about the latest song I listened to on Spotify via last.fm. This was a good opportunity to implement api access on the site via a private key. Which is something I understood in practice but had never actually implemented myself. Just not something I had experimented with in the past. First thing I did was go to last.fm and get an api key. From there I read the documentation they provided and reviewed samples I found just searching ye olde interweb. Using the most barebone page imaginable to use the key and retrieve the information I was looking for. I have to say there was more trial and error than I thought here which I think is largely due to the type of documentation provided in the api docs. Anyway, with that done I knew I could pull the information I was looking for and format it as needed. Piecing together the song title, artist, and album of the latest song was complete. Next, I needed to move that private key somewhere to actually keep it private. While the test had hard coded the key onto the page it needs to be...">

  

  

  
  <link rel="alternate" type="application/rss+xml" title="christopher himes" href="http://localhost:4000/feed.xml">
  

  

  

  

  
  
  

  
  <meta property="og:site_name" content="christopher himes">
  <meta property="og:title" content="Now Page 2024">
  <meta property="og:description" content="While looking at personal sites for inspiration I found the idea of a now page. So I decided to make one for myself. There are lots of examples of this on NowNowNow but my now page is located at /now. For now it includes a personal, movie/TV, and music section. For the music section I’ve added a line about the latest song I listened to on Spotify via last.fm. This was a good opportunity to implement api access on the site via a private key. Which is something I understood in practice but had never actually implemented myself. Just not something I had experimented with in the past. First thing I did was go to last.fm and get an api key. From there I read the documentation they provided and reviewed samples I found just searching ye olde interweb. Using the most barebone page imaginable to use the key and retrieve the information I was looking for. I have to say there was more trial and error than I thought here which I think is largely due to the type of documentation provided in the api docs. Anyway, with that done I knew I could pull the information I was looking for and format it as needed. Piecing together the song title, artist, and album of the latest song was complete. Next, I needed to move that private key somewhere to actually keep it private. While the test had hard coded the key onto the page it needs to be...">

  
  <meta property="og:image" content="http://localhost:4000/assets/og-images/now-2024.webp">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Christopher Himes">
  <meta property="og:article:published_time" content="2024-12-06T07:00:00-05:00">
  <meta property="og:url" content="http://localhost:4000/blog/2024/12/06/now-2024.html">
  <link rel="canonical" href="http://localhost:4000/blog/2024/12/06/now-2024.html">
  
  <style type="text/css">
    
    :root {
  color-scheme: light dark;
  --background-color: light-dark(rgb(240,240,240), rgb(26, 26, 26));
  --foreground-color: light-dark(rgb(0, 87, 59), rgb(32, 255, 188));
  --link-color: light-dark(rgb(1, 85, 106), rgb(25, 209, 255));
  --text-color: light-dark(rgb(26, 26, 26), rgb(240,240,240));
  --invert-text-color: light-dark(rgb(240,240,240),rgb(26, 26, 26));
  --line-color: rgba(211, 211, 211, 30%);
}

@font-face {
  font-family: "lato-normal";
  src: url("../../../../../assets/font/lato-normal.woff2") format("woff2"), url("../../../../../assets/font/lato-normal.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
  unicode-range: U+0025-00FF;
}
body {
  background-color: var(--background-color);
  color: var(--foreground-color);
  margin: 0px;
  padding: 0px;
  font-family: "lato-normal", Arial, Helvetica, sans-serif;
  letter-spacing: 0.05em;
}

h1, h2, h3, h4, h5 {
  font-family: "lato-normal", Arial, Helvetica, sans-serif;
}

span {
  margin: 0;
  padding: none;
}

h1 {
  color: var(--foreground-color);
}

h2 {
  font-size: 1.5em;
  color: var(--foreground-color);
}

h3 {
  font-size: 1.25em;
  color: var(--foreground-color);
}

hr {
  border: solid 1px var(--line-color);
  margin: 1em;
  width: 100%;
}

p, li, ul {
  color: var(--text-color);
}

a:hover {
  text-decoration: underline;
}

a {
  text-decoration: none;
}

.language-plaintext {
  width: 750px;
  word-break: break-all;
  display: block;
  overflow: auto;
}

.headline {
  font-size: 1.5em;
}

.post-link {
  font-size: 2em;
}

.wrapper {
  margin: 1em auto;
  width: 100%;
}

.site-nav {
  margin-top: 0;
  float: right;
}

.page-link {
  margin: 0 1em;
}

a, a:visited, a:hover .page-link {
  color: var(--link-color);
}

.post-detail a, p a, .pagination a {
  text-decoration: underline;
}

.face {
  clip-path: circle(150px at center);
  filter: invert(0%) sepia(0%) saturate(2%) hue-rotate(186deg) brightness(97%) contrast(101%);
}

.site-title {
  font-family: "lato-normal", Arial, Helvetica, sans-serif;
  font-size: 1.2em;
  background: -webkit-gradient(linear, left top, right bottom, from(var(--foreground-color)), to(var(--link-color)));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-decoration: none;
}

.site-header {
  border-image: linear-gradient(34deg, var(--foreground-color), var(--link-color)) 1;
  border-width: 7px;
  border-style: solid;
  border-left: 0;
  border-right: 0;
  border-bottom: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.site-title {
  padding-left: 1em;
}

.home-wrapper {
  display: flex;
  justify-content: cenleter;
  align-items: center;
  gap: 3em;
  margin: 2em auto;
  flex-direction: row;
  width: 800px;
  flex: 2 100%;
}

.home-wrapper-column {
  display: flex;
  justify-content: left;
  align-items: left;
  width: 800px;
  gap: 2em;
  margin: 2em auto;
  margin-bottom: 4em;
  flex-direction: column;
  flex: 1 100%;
}

.home-name {
  font-family: "lato-normal", Arial, Helvetica, sans-serif;
  background: -webkit-gradient(linear, left top, right bottom, from(var(--foreground-color)), to(var(--link-color)));
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-size: 2.5em;
}

.home-heading {
  font-size: 2em;
  color: var(--foreground-color);
}

.site-nav {
  display: flex;
  padding: 10px 15px;
}

.wrapper {
  margin: auto;
  display: flex;
  justify-content: left;
  align-items: left;
  gap: 3em;
  flex-direction: column;
  flex: 1 100%;
}

.home-blog {
  flex-direction: column;
}

.blogimg {
  max-width: 750px;
  border: 1px solid var(--text-color);
}

.article {
  border-width: 2px;
  border-style: solid;
  padding: 1em;
  border: 2px solid transparent;
  border-radius: 20px;
  background-origin: border-box;
  background-clip: padding-box, border-box;
  display: flex;
  flex-flow: column;
  justify-content: left;
}

.post-detail, .page-detail {
  display: flex;
  justify-content: center;
  align-items: left;
  flex-direction: column;
  font-size: 1.25em;
  margin: 0 auto;
  width: 700px;
}

.blog-entry {
  width: 100%;
  padding: 1em 0;
  align-items: left;
  text-align: left;
  border-top: solid 2px --line-color;
}

.footer-wrapper {
  display: flex;
  justify-content: center;
  margin: auto;
  display: flex;
  align-items: left;
  flex-direction: row;
  flex: 1 100%;
  align-items: flex-start;
  gap: 1.5em;
}

.footer-col {
  vertical-align: top;
  text-align: left;
}

.footer-links {
  justify-content: left;
  padding-left: 0;
  list-style: none;
  line-height: 1.5em;
  width: 200px;
}

.footer-links a {
  padding: 0;
  margin: auto;
}
  </style>
  <link rel="stylesheet" href="/assets/css/style.css" media="print" onload="this.onload=null;this.removeAttribute('media');" fetchpriority="high">
  <link rel="stylesheet" href="/assets/css/syntax_monokai.css" media="print" onload="this.onload=null;this.removeAttribute('media');" fetchpriority="low">
  <link href="/favicon.ico" rel="icon" type="image/x-icon">
  
<script defer src="https://cloud.umami.is/script.js" data-website-id="7903148e-8cb8-40be-991a-b1343d8c556e"></script>
<link rel="webmention" href="https://webmention.io/christopherhimes.com/webmention" />
</head>
<body><header>
  <nav class="site-header"><div class="site-title">
      <a rel="author" href="/">christopher himes</a>
    </div><nav class="site-nav"><a class="page-link" href="/about/">about</a><a class="page-link" href="/cv/">resume/cv</a><a class="page-link" href="/blog">blog</a>
      </nav></nav>
</header>
<main class="wrapper" aria-label="Content">
        

<div class="" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="post-detail">
  <header>
    <h1 class="post-title" itemprop="name headline">Now Page 2024</h1>
    <p><time class="dt-published" datetime="2024-12-06T07:00:00-05:00" itemprop="datePublished">
        Dec 6, 2024
      </time>
      &nbsp;<span class="reading_time">read in about 3 minutes</span></p>
  </header>
    <article itemprop="articleBody">
      <!--more-->

<p>While looking at personal sites for inspiration I found the idea of a now page. So I decided to make one for myself. There are lots of examples of this on <a href="https://nownownow.com">NowNowNow</a> but my now page is located at <a href="/now">/now</a>.</p>

<p>For now it includes a personal, movie/TV, and music section. For the music section I’ve added a line about the latest song I listened to on <a href="https://spotify.com">Spotify</a> via <a href="https://last.fm">last.fm</a>.</p>

<p>This was a good opportunity to implement api access on the site via a private key. Which is something I understood in practice but had never actually implemented myself. Just not something I had experimented with in the past.</p>

<p>First thing I did was go to last.fm and get an api key. From there I read the documentation they provided and reviewed samples I found just searching ye olde interweb. Using the most barebone page imaginable to use the key and retrieve the information I was looking for. I have to say there was more trial and error than I thought here which I think is largely due to the type of documentation provided in the api docs.</p>

<p>Anyway, with that done I knew I could pull the information I was looking for and format it as needed. Piecing together the song title, artist, and album of the latest song was complete.</p>

<p>Next, I needed to move that private key somewhere to actually keep it private. While the test had hard coded the key onto the page it needs to be stored as an environment variable and accessed in a way that does not expose it to a client.</p>

<p>Luckily for me, my host of choice <a href="https://netlify.com">Netlify</a> has some good documentation and site configuration to make this easier. There is a section for Environment Variables within the site configuration which allowed me to specify the api key.</p>

<p>From there I would need a way to access that information at run time versus having the build of this <a href="https://jekyllrb.com">Jekyll</a> site pull it into the code of the site. This was achieved by the use of Netlify functions which allow for server side Javascript to be run to access environment variables.</p>

<p>Prior to this addition there was not much configuration in the setup of this site for the Netlify build. Now there are a few more requirements and I’m not sure if it could go back to GitHub Pages.</p>

<p>Unfortunately, my compuslive upgrading has delayed the launch of the page a bit as well as a few of the supporting tools to build the site had some cascading dependency issues tied to updating one piece or another.</p>

<p>After the api key was setup, kept private in environment variables, accessed via a server side function call, and used to pull song details, I was ready to build the rest of the /now page. I had originally just setup a HTML page but I went ahead and converted it to markdown to utilize the existing templates.</p>

<p>Then I had to decide what was even happening now which I kept pretty light as it is just a first pass. I think having the page out there and reviewing it periodically would be a good sanity check from time to time.</p>


      
      <div class="post-tags">
          
            <a class="tag-button" href="/tags/#now">now</a>
          
            <a class="tag-button" href="/tags/#2024">2024</a>
          
            <a class="tag-button" href="/tags/#meta">meta</a>
          
        </div>
      
    </article>
  <a href="/blog/2024/12/06/now-2024.html" hidden></a>
</div>
<div class="post-detail">
<hr /><!--
Inspired by https://codeberg.org/jwildeboer/jwildeboersource/src/commit/45f9750bb53b9f0f6f28399ce4d21785a3bb7d22/_includes/fediverse_comments.html
-->

<section id="comments" class="comments">
  <h2>Comments</h2>
  <p>Comment on this blog post by publicly replying to <a href="https://hachyderm.io/@eeentropyyy/113606984706558220">this Mastodon post</a> using a Mastodon or other ActivityPub/&ZeroWidthSpace;Fediverse account. Known non-private replies are displayed below.</p>

  <div id="comments-wrapper">
    <p><small>No known comments, yet. Reply to <a href="https://hachyderm.io/@eeentropyyy/113606984706558220">this Mastodon post</a> to add your own!</small></p>
    <noscript><p>Loading comments relies on JavaScript. Try enabling JavaScript and reloading, or visit <a href="https://hachyderm.io/@eeentropyyy/113606984706558220">the original post</a> on Mastodon.</p></noscript>
  </div>

  <script src="/assets/js/purify.min.js"></script>
  <script>
    loadComments ();

    function loadComments() {
      let commentsWrapper = document.getElementById("comments-wrapper");
      let postUrl = "https://hachyderm.io/api/v1/statuses/113606984706558220";

      fetch(postUrl)
      .then(function(response) {
        return response.json();
      })
      .then(function(op) {
        fetch(postUrl + "/context")
        .then(function(response) {
          return response.json();
        })
        .then(function(data) {
          let descendants = data['descendants'];
          if(
            descendants &&
            Array.isArray(descendants) &&
            descendants.length > 0
          ) {
            commentsWrapper.innerHTML = "";
            descendants.unshift(op);

            data['descendants'].forEach(function(status) {
              if( status.account.display_name.length > 0 ) {
                status.account.display_name = escapeHtml(status.account.display_name);
                status.account.display_name = emojify(status.account.display_name, status.account.emojis);
              } else {
                status.account.display_name = status.account.username;
              };

              let instance = "";
              let verified = false;
              if( status.account.acct.includes("@") ) {
                instance = status.account.acct.split("@")[1];
              } else {
                instance = "hachyderm.io";
                verified = true;
              }

              status.content = emojify(status.content, status.emojis);

              let avatarSource = document.createElement("source");
              avatarSource.setAttribute("srcset", escapeHtml(status.account.avatar));
              avatarSource.setAttribute("media", "(prefers-reduced-motion: no-preference)");

              let avatarImg = document.createElement("img");
              avatarImg.className = "avatar";
              avatarImg.setAttribute("src", escapeHtml(status.account.avatar_static));
              avatarImg.setAttribute("alt", `Avatar for ${ status.account.display_name }`);

              let avatarPicture = document.createElement("picture");
              avatarPicture.appendChild(avatarSource);
              avatarPicture.appendChild(avatarImg);

              let avatarLink = document.createElement("a");
              avatarLink.className = "avatar-link";
              avatarLink.setAttribute("href", status.account.url);
              avatarLink.setAttribute("rel", "external nofollow");
              avatarLink.setAttribute("title", `View profile at @${ status.account.username }@${ instance }`);
              avatarLink.appendChild(avatarPicture);

              let instanceBadge = document.createElement("a");
              instanceBadge.className = "instance";
              instanceBadge.setAttribute("href", status.account.url);
              instanceBadge.setAttribute("title", `@${ status.account.username }@${ instance }`);
              instanceBadge.setAttribute("rel", "external nofollow");
              instanceBadge.textContent = instance;

              let display = document.createElement("span");
              display.className = "display";
              display.setAttribute("itemprop", "author");
              display.setAttribute("itemtype", "http://schema.org/Person");
              display.innerHTML = status.account.display_name;

              let header = document.createElement("header");
              header.className = "author";
              header.appendChild(display);
              header.appendChild(instanceBadge);

              let permalink = document.createElement("a");
              permalink.setAttribute("href", status.url);
              permalink.setAttribute("itemprop", "url");
              permalink.setAttribute("title", `View comment at ${ instance }`);
              permalink.setAttribute("rel", "external nofollow");
              permalink.textContent = new Date( status.created_at ).toLocaleString('en-US', {
                dateStyle: "long",
                timeStyle: "short",
              });

              let timestamp = document.createElement("time");
              timestamp.setAttribute("datetime", status.created_at);
              timestamp.appendChild(permalink);

              let main = document.createElement("main");
              main.setAttribute("itemprop", "text");
              main.innerHTML = status.content;

              let interactions = document.createElement("footer");
              if(status.favourites_count > 0) {
                let faves = document.createElement("a");
                faves.className = "faves";
                /* FIXME: This is a hack and probably won't work w/non-Mastodon instances */
                faves.setAttribute("href", `${ status.url }/favourites`);
                faves.setAttribute("title", `Favorites from ${ instance }`);
                faves.textContent = status.favourites_count;

                interactions.appendChild(faves);
              }

              let comment = document.createElement("article");
              comment.id = `comment-${ status.id }`;
              comment.className = "comment";
              comment.setAttribute("itemprop", "comment");
              comment.setAttribute("itemtype", "http://schema.org/Comment");
              comment.appendChild(avatarLink);
              comment.appendChild(header);
              comment.appendChild(timestamp);
              comment.appendChild(main);
              comment.appendChild(interactions);

              if(verified === true) {
                comment.classList.add("verified");
              }

              commentsWrapper.innerHTML += DOMPurify.sanitize(comment.outerHTML);
            });
          }
        });
      });
    }

    function emojify(input, emojis) {
      let output = input;

      emojis.forEach(emoji => {
        let picture = document.createElement("picture");

        let source = document.createElement("source");
        source.setAttribute("srcset", escapeHtml(emoji.url));
        source.setAttribute("media", "(prefers-reduced-motion: no-preference)");

        let img = document.createElement("img");
        img.className = "emoji";
        img.setAttribute("src", escapeHtml(emoji.static_url));
        img.setAttribute("alt", `:${ emoji.shortcode }:`);
        img.setAttribute("title", `:${ emoji.shortcode }:`);
        img.setAttribute("width", "20");
        img.setAttribute("height", "20");

        picture.appendChild(source);
        picture.appendChild(img);

        output = output.replace(`:${ emoji.shortcode }:`, picture.outerHTML);
      });

      return output;
    }

    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/'/g, "&apos;")
        .replace(/"/g, "&quot;")
      ;
    }
  </script>
</section><hr /></div>
</div>




    </main><footer class="footer-wrapper"> 
  <data class="u-url" href="/"></data>  
      <div class="footer-col">

          <h3>Links</h3>
            <ul class="footer-links">
              <li>
                <a rel="me" href="mailto:christopher@christopherhimes.com" title="Email me">email
              </a>
            </li>
            <li>
            <a rel="me" href="https://github.com/christopherhimes" title="GitHub">github
           </a>
          </li>
          <li>
            <a rel="me" href="https://hachyderm.io/@eeentropyyy">mastodon
            </a>
          </li>
          <li>
            <a rel="me" href="https://bsky.app/profile/eeentropyyy.hachyderm.io.ap.brid.gy">bluesky
            </a>
          </li>
          <li>
            <a href="/feed.xml" title="RSS">feed
            </a>
          </li>
          </ul>
      </div>
      <div class="footer-col">
        <p>Christopher Himes is a Product Owner living in Metro Detroit.
</p>
        <p>© 2025 Christopher Himes. Made in Michigan.</p>
        <p>Site last published: May 1, 2025 11:48 AM UTC-04:00</p>
      </div>
</footer>
</body>

</html>
